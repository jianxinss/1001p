#1001P Project

搜集stackoverflow上有关JS CSS HTML nodeJS等前端相关的1001的问题，翻译整理成册，以供参考。


#渐进增强和优雅降级


#### 渐进增强：
一开始只是构建站点的最少特性，然后不断的针对各浏览器追加功能

####优雅降级：
一开始就构建站点的完整功能，然后针对浏览器测试和修复


优雅降级和渐进增强都关注于在不同设备里不同浏览器下地表现程度。关键的区别则在他们各自关注于何处，以及这种关注如何影响工作的流程

> 特性检测



### 对网站的资源和文件进行优化
* 文件合并（js css）
* 文件最小化 文件压缩（js css）
* 使用CDN托管（js css img）
* 使用css sprite
* 使用缓存
* 1. 静态资源的有效期设置为最长 即Cache-control-max-age为10年。这样设置后浏览器就再也不会在有缓存的前提下去确认文件是否被修改了。超长的有效期可以让用户在访问曾经访问过的页面时获得最佳的体验。带来的复杂性是在每次对静态资源更新时，必须发布不同的URL来确保用户重新加载变动的资源
* 其他
* 利用多个域名来提供网站资源（同一时间针对同一域名下的请求有一定数量限制，‘浏览器并发连接数’）因为浏览器是基于域名的并发控制而不是基于page。然而过多的散布会导致DNS解析上付出额外的代价，所以域名一般被控制在2-4个
* 优化第一屏的性能，进行图片的懒加载，降低宽带费用。

### 减少页面加载时间的方法
* 尽量减少页面中重复Http请求数量（文件合并，雪碧图）
* 服务端开启gzip压缩（将需要传输的内容压缩后传递到客户端再进行解压，这样在网络上的传输数据量会大幅减小）
* 减少DOM 元素
* 使用多域名负载网页中的多个文件图片
* 使用CND
* 在服务端配置 control-cache last-modify-date

 
#多语言开发
使用统一的utf-8编码
* 制图时，图形的图像层与文本层分离，这样在绘图时只需对文本进行翻译
* 设置控件的属性考虑到多种语言版本的文本显示，尽可能为翻译预留足够多的空间。同时也应该保持不同语言界面的统一性，避免过多的差异
* 编码时注意代码复用，将多个模块的公用信息存在共通的文件中便于全局管理

请求过程
* 用户在终端选择偏好语言，浏览器向服务器发送页面请求
* 模板界面接收到语言选项后，从资源文件中读取相应区域的资源
* 相应请求时，西营根据检索到的语言选项，动态加载css js 文件，为不用的区域初始化不同的样式
* 数据库接受到语言选项后，将去作为SQL 参数传入数据库，检索相应区域的数据
* 模板界面接收到各种信息组装成html代码，发送到浏览器，显示给终端用户


#cookie sessionStorage和 localStorage区别
共同点，都是保存在浏览器端，且同源的

* cookie数据始终在同源的http请求中携带（即使不需要），即cookie 在浏览器和服务器间来回传递，而sessionStorage 和 localStorage 不会把数据发送给服务器，仅在本地保存
* cookie 数据有路径的概念（path）可以限制cookie只属于某个路径下。
* 存储大小不同，cookie数据不能超过4K，同时因为每次http请求都会携带cookie，所以cookie只适合保存很小的数据，比如会话标识
* sesstionStorage 和 localstorage也有存储大小限制，但是比cookie大很多，可以达到5M或更多
* 数据有效期不同，sesstionStorage 仅在浏览器页面关闭前有效，不可持久保持； localstorage始终有效，窗口或者浏览器关闭也一直保存，因此做持久数据；cookie只在设置的cookie过期时间之前一直有用，即使浏览器或者窗口关闭
* 作用域不同，sesstionStorage 不在不同的浏览器窗口中共享，即使同一个页面；localstorage 在所有的同源窗口下都是共享的，cookie 也是在所有同源窗口下都是共享的
* sessionStorage 和localstorage 是HTML5 web Storage API提供的，可以方便的在web请求之间保存数据，


###Web Storage 带来的好处
* 减少网络流量，一旦数据保存在本地后，就可以避免想服务器请求数据，减少不必要的数据请求
* 快速显示数据，性能好，从本地读取数据要比通过网络向服务器获得数据快得多，
* 临时存储，有些数据只需要在用户浏览一组页面期间使用，关闭窗口后数据就可以丢弃了，这种情况下使用sessionStorage 非常方便









































